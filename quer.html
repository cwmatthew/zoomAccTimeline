<!DOCTYPE html>
<html>
<head>
  <title>Query Wrapper Example</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="js/querywrapper.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['timeline']});
    google.charts.setOnLoadCallback(function() { sendAndDraw('')} );
    // google.charts.load('current', {'packages' : ['orgchart']});
    // google.charts.setOnLoadCallback(function() { sendAndDraw('') });

    var dataSourceUrl = 'https://docs.google.com/spreadsheets/d/1jLBE9Hp1s9E8FyIJayCIH05VuBtUPnTO8zUmkuoWG4w/gviz/tq?range=A3:E';
    var query;

    function sendAndDraw(queryString) {
        var container = document.getElementById('timeline');
        var chart = new google.visualization.Timeline(container);
        var dataTable = new google.visualization.DataTable();
      query && query.abort();
      query = new google.visualization.Query(dataSourceUrl + queryString);
      var queryWrapper = new QueryWrapper(query, chart,"",container);
      queryWrapper.sendAndDraw();
    }

  </script>
</head>

<body>
<h1>Query Wrapper Example</h1>
<form action="">

  <br /><br />
  <select onChange="sendAndDraw(this.value)">
    <option value="">No query string</option>
    <option value="&tq=limit 3">query=limit 3</option>
    <option value="&tq=select G,H">(Error) query=select G,H</option>
  </select>
</form>
<br />
<div id="timeline"></div>
</body>
</html>